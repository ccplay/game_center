{% extends "video/wap/base.html" %}
{% load staticfiles %}
{% block meta_title %}播放 {{ video.title }}{% endblock %}
{% block main %}
<div class="wap-play">
    <div class="title">
        <h1>{{ video.title }}</h1>
        <a href="{% url 'video-list' %}?src=wap" class="close" title="关闭播放"></a>
    </div>

<video id="video" data-flip="{{ video.flip }}" class="video-js vjs-default-skin" autoplay controls preload="none" width="100%"
       poster="{% static 'video_web/images/play-cover.png' %}">
    <source src="{{ video.file.url }}" type="video/mp4" />
</video>

<script src="{% static 'common/js/jquery.min.js' %}"></script>
<script src="{% static 'video_web/video-js/video.js' %}"></script>
<script type="text/javascript">
    navigator.os = {family: false};
    if(navigator.userAgent.match(/iPod|iPad|iPhone/)){
        navigator.os.family = 'iOS';
    }
    videojs('video').ready(function(){
        if(navigator.os.family != 'iOS')
        {
            var v = this;
            var flip = $(v.I).attr('data-flip');
            $(v.I).addClass('flip' + flip);
        }
    })
</script>
</div>
{% endblock %}
